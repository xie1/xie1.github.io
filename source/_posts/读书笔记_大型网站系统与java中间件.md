---
title: 读书笔记_大型网站系统与Java中间件
date: 2019-04-05 23:01:41
tags:
categories: 读书笔记
---
#一、*思维导图*
#*总知识点*
##一、分布式系统
	1、网络IO实现方式
		1、BIO：阻塞的方式实现，也就是一个Socket套接字需要使用一个线程进行处理
		2、NIO：Reactor模式
		3、AIO：异步IO
##二、构建Java中间件
	1、远程过程调用和对象访问中间件：主要解决分布式环境下应用的相互访问
	2、消息中间件：解决应用之间的消息传递，解耦，异步的问题
	3、数据访问中间件：主要解决应用访问数据库的共性问题的组件
	
	基础知识：
	1、JVM
	2、Java并发编程的类，接口和方法
		1、线程池
		2、synchronized
		3、ReentrantLock
		4、Volatile
		5、Atomics
		6、wait，notity，notityAll
		7、CountDownLutch
		8、CyclicBarrier
		9、Semaphone
		10、Exchanger
		11、Future/FutureTask
		12、并发容器
	3、动态代理
	4、反射
	5、网络通信实现选择

##四、服务框架
	1、接口调用，寻址路由，编码，通信
	2、通信，解码，寻址路由，接口调用
###4.1、服务的远程调用
	1、使用服务框架是为了把本地对象之间调用变为远程的过程调用（RPC）
		负载均衡的策略：随机，轮询，权重
	2、如果集群中存在慢方法，则可以将它通过请求分流，基于接口，方法，参数之间路由
	3、网络通信实现选择（BIO，NIO，AIO）
		4种常见异步远程通信方法
		1、oneWay:单口通知
		2、callBack：回调
		3、Future：主动控制超时
		4、可靠异步方式
	调用端采用NIO（如下图）
	5、服务提供端设计与实现
		服务端工作两部分：
		1、对本地服务的注册管理
		2、根据进来请求定位服务并执行

##五、数据访问层
	1、数据库减压
		1、优化应用
		2、引入缓存，加入搜索引擎
		3、把数据库的数据和访问分到多台数据库上
	2、数据拆分
		1、垂直拆分
		2、水平拆分
		影响：
			1、单机ACID打破
			2、一些Join操作变困难
			3、靠外链去约束会受到影响
	