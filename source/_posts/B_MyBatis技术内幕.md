
##B_MyBatis技术内幕

###1、Mybatis快速入门
####1.1、ORM
####1.2、常见支持久化框架
	1、hibernate
	2、Spring JDBC ：它仅仅是使用模板方法对原生JDBC进行了一层非常薄的封装
	3、Mybatis 
		大致过程：应用程序首先加载Mybatis-config.xml配置文件，并根据配置文件的内容创建SqlSessionFactory对象，然后通过sqlSessionFactory对象创建SqlSession对象，Sqlsession接口中定义执行SQL预计所需要的各种方法，通过SqlSession对象执行映射配置文件中定义的SQL语句，完成相应的数据操作，提交事务，关闭SqlSession对象。
####1.3、MyBatis整体架构
	分为三层：基础支持层，核心处理层和接口层
	
![Alt text](./1558251490917.png)
#####1.3.1、基础支持层
	1、反射模块：该模块对Java原生的反射进行了良好的封装，提供了更加简洁易用的API
	2、类型转换模块：
		1、Mybatis为简化配置文件提供了别名机制
		2、实现JDBC类型与Java类型之间的转换
	3、日志模块
	4、资源加载模块
		主要是对类加载器进行封装，确定类加载器的使用顺序，并提供了加载类文件以及其他的资源文件的功能
	5、解析器模块
		1、对XPath进行封装，为Mybatis初始化时解析配置文件以及映射配置文件提供支持
		2、为了处理动态SQL语句中的占位符提供支持
	6、数据源模块
	7、事务管理
		1、Mybatis对数据库中的事务进行了抽象，其自身提供了相应的事务接口和简单实现
	8、缓存模块
	9、Binding模块
		1、Mybatis通过Binding模块将用户自定义的Mapper接口与映射文件关联起来	
#####1.3.2、核心处理层
	1、配置解析
	2、SQL解析与scripting模块
	3、SQL执行
		Mybatis执行一条SQL的大致过程
	4、插件
![Alt text](./1558253542551.png)

	
#####1.3.3、接口层
	SqlSession接口
	
###2、基础支持层
####2.1、解析器模块
	1、XML解析常见的三种方式
		1、DOM解析
			是基于树形结构的XML解析方式，它会将整个XML文档读入内存并构建一个DOM树，基于这棵树形结构对各个节点进行操作
		2、SAX解析
			是基于事件模型XML解析方式，它并不需要将整个XML文档加载到内存中，而只需将XML文档的一部分加载到内存中，即可开始解析（推模式）
		3、StAX
			类似于SAX，不过采用的由应用程序拉的模式进行
#####2.1.1、XPath简介
	
###3、核心处理层
###4、高级主题
