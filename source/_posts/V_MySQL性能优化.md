
##V_MySQL性能优化
	1、影响性能的因素（面试）
		1、商业需求对性能的影响
			1、不合理需求：实时统计
			2、无用功能堆积
				1、无用的列
				2、无用的表关联
				3、错误的表设计
		2、系统架构及实现对性能影响
			1、哪些数据不适合放在数据库中（降低数据查询效率，增加IO次数）
				1、二进制数据（声音，图片，图像）
				2、流水队列数据（日志）
				3、超大文本
			2、合理的cache
				1、数据库的缓存（一、二级缓存）
					1、系统配置信息
					2、活跃的用户的基本信息
					3、活跃用户的定制化信息
					4、基于时间段的统计数据
					5、读>>>写数据
			3、减少数据库交互次数
				1、N+1问题的解决
					1、使用链接查询
					2、使1+1查询（冗余）
			4、过度依赖数据库sql语句功能
				1、交叉表
				2、不必要的表连接
			5、重复执行相同的sql
			6、其他常见系统架构和实现问题
				1、Cache系统的不合理利用导致Cache命中率低下造成数据库访问量的增加，同时也浪费
				2、过度依赖面向对象思想，对系统可扩展性的过度追求
				3、对数据库过度依赖
				4、过度依赖用户优化
		3、其他因素
			1、sql引起性能问题的原因
				1、所谓的sql优化，就是让优化器根据开发人员提供的计划去执行计划，以减少查询中产生IO
				
			2、schema设计对系统性能的影响
				1、冗余数据处理
				2、大表拆分小表，有大数据的列单独拆分成小表
				3、根据需求的展示设置更合理的表结构
				4、把常用属性分离成小表
			3、硬件环境对性能影响
				1、提高IO指标
				2、提高CPU的计算能力
			4、数据库系统场景
				1、OLTP
				2、OLAP（类似于天气预报服务站）
		4、综合考虑
			1、需求和架构及业务实现的优化（55%）
			2、Query语句优化(30%)
			3、数据库自身的优化(15%)
	2、SQL优化
		1、合理使用索引
			1、理解Mysql的索引
				1、索引存储
				2、索引的结构
					1、索引类型
						1、普通索引
						2、唯一索引
						3、全文索引
					2、索引的类型的底层实现
						1、B+tree
						2、hash索引
							1、定义
							2、缺点			
			2、索引的好处
			3、如何创建索引
			4、单值索引和组合索引
			5、mysql中索引使用限制
		2、使用Explain和Profiling
			1、Explain命令
			2、profiling的使用
				1、监控sql的执行每一步操作
				2、可以监控sql执行的消耗的cpu、io
		3、优化join
			1、理解Join原理
			2、join优化原则
				1、小表驱动大表
				2、优先优化NestLoop的内层循环
				3、保证join语句中被驱动表上的join条件字段已经被索引
				4、扩大join buffer的大小
		4、其他优化
			1、优化Order By
			2、优化Group By
			3、优化distinct
		5、SQL优化原则（重点，面试）
			1、选择需要优化的SQL
				1、优先选择优化高并发低消耗的SQL
				2、定位性能瓶颈
					1、sql运行较慢有两个影响原因：IO和CPU，明确性能瓶颈
					2、明确优化目标
			2、Explain和Profile
			3、永远用小结果集驱动大的结果集
			4、在索引中完成排序
			5、使用最小Columns
				1、减少网络传输数据量
				2、是把所有的column数据全部取出，在排序缓存区排序，再返回结果，
					如果column比较的数据量大，排序区容量放不下，那就会优先用column排序，再取出数据，再返回多次请求方式
			6、使用最有效的过滤条件
				1、过多的where条件不一定能够提高访问性能（多个列索引，mysql的选择索引永远是只用一个索引列）
				2、一定要让where条件使用自己预期的执行计划
			7、避免复杂的join和子查询
	3、其他优化
		1、innobuffer和事务
		2、innoDB的事务处理（事务日志的提交过程）
	4、mysql复制
		1、主从场景
		2、主从原理
		3、主从配置
		4、读写分离